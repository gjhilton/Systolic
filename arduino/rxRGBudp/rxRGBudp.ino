#include <SPI.h>
#include <WiFi.h>
#include <WiFiUdp.h>

/////////////////////////////////////////////////////////////////////////////////////////////////
// NETWORK CONFIGURATION
////////////////////////////////////////////////////////////////////////////////////////////////

IPAddress myStaticIP(192,168,1,10);
unsigned int listenPort = 12345;

/////////////////////////////////////////////////////////////////////////////////////////////////
// RGB PINS
////////////////////////////////////////////////////////////////////////////////////////////////

const int redPin = 3;
const int greenPin = 5;
const int bluePin = 6;

/////////////////////////////////////////////////////////////////////////////////////////////////
// ARDUINO LIFECYCLE
////////////////////////////////////////////////////////////////////////////////////////////////

void setup() {
  // Serial.begin(9600);
  setRGB(52,0,0);
  connectToNetwork();
  setRGB(255,255,255);
}

void loop() {
  serviceUDP();
  delay(10);
}

void setRGB(int red, int green, int blue){
  analogWrite(redPin, 255 - red);
  analogWrite(greenPin, 255 - green);
  analogWrite(bluePin, 255 - blue);
  Serial.print("Got ");
  Serial.print(red);
  Serial.print(green);
  Serial.println(blue);
}
